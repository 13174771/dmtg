Êµ∑ÈòîËßÜÁïåËßÑÂàôÂàÜ‰∫´ÔºåÂΩìÂâçÂàÜ‰∫´ÁöÑÊòØÔºöÂ∞èÁ®ãÂ∫èÔø•home_rule_v2Ôø•base64://@ùëÄùë¶ùêπùëñùëíùëôùëë·¥∞‚Åø@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi8J2RgPCdkabwnZC58J2RlvCdkZLwnZGZ8J2RkeG0sOKBvyIsImF1dGhvciI6IuaWreW/tSIsInVybCI6Imhpa2VyOi8vZW1wdHk/Y2xhc3M9ZnlBbGwiLCJ2ZXJzaW9uIjoyMDIzMTEwMjAxLCJjb2xfdHlwZSI6InRleHRfY2VudGVyXzEiLCJjbGFzc19uYW1lIjoiTXlQYXJzZVMm57yW6L6R5paH5Lu2JuabtOaWsCIsInR5cGUiOiJ0b29sIiwiY2xhc3NfdXJsIjoiJmVkaXRGaWxlJlVwZGF0ZSIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwic29ydF9uYW1lIjoiIiwieWVhcl9uYW1lIjoiIiwic29ydF91cmwiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxudGhpcy5kID0gW107XG5cbmZ1bmN0aW9uIGp4SXRlbUhlYWQoKSB7XG4gICAgYWRkTGlzdGVuZXIoJ29uUmVmcmVzaCcsICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGdldFZhcigna3FqeGNzJywgJzAnKSkge1xuICAgICAgICAgICAgY2FzZSAnMCc6XG4gICAgICAgICAgICAgICAgcHV0VmFyKCdrcWp4Y3MnLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzEnOlxuICAgICAgICAgICAgICAgIHB1dFZhcigna3FqeGNzJywgMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHB1dFZhcigna3FqeGNzJywgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgaWYgKGdldFZhcigna3FqeGNzJykgPT0gMikge1xuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJk8c3BhbiBzdHlsZT1cImNvbG9yOiNGQUNDMkVcIj7op6PmnpDmtYvor5UnLFxuICAgICAgICAgICAgdXJsOiAkKCkubGF6eVJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB2aXBVcmwgPSBnZXRWYXIoJ3BsdWdpbkxpbmsnKTtcbiAgICAgICAgICAgICAgICBpZiAodmlwVXJsLnN1YnN0cigwLCA0KSA9PSAnaHR0cCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnaHR0cHM6Ly9naHByb3h5Lm5ldC9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvUm91dGUuanMnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF5dG1QYXJzZSh2aXBVcmwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/ovpPlhaXmoYbmnKrloatVcmzmiJbogIXml6DmlYhVcmwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBydWxlViA9IGdldFZhcihcInJ1bGVWZXJzaW9uXCIpLFxuICAgICAgICB1cGRUaXBzID0gJ1xcbueCueWHu+KAnOabtOaWsOiEmuacrOS+nei1luKAneabtOaWsOKAmeKAmSc7XG4gICAgdmFyIGp4SXROZXdWID0gZ2V0VmFyKCdqeEl0TmV3VicsICcnKSxcbiAgICAgICAganhJdGVtViA9IGdldFZhcignanhJdGVtVicpO1xuICAgIGlmIChNWV9SVUxFLnZlcnNpb24gPCBydWxlVikge1xuICAgICAgICBqeEl0TmV3ViA9ICflsI/nqIvluo/mnInmlrDniYjmnKw6ICcgKyBydWxlVjtcbiAgICAgICAgdXBkVGlwcyA9ICdcXG7mm7TmlrDlpb3lsI/nqIvluo/lkI7ngrnlh7vmm7TmlrDohJrmnKzkvp3otZbigJnigJknO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvblRpcHMgPSBqeEl0TmV3ViA9PSAnJyA/ICdWZXJzaW9uICcgKyBqeEl0ZW1WIDogJ+KAmOKAmCcgKyBqeEl0TmV3ViArIHVwZFRpcHM7XG5cbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxiaWc+PGJpZz48c3BhbiBzdHlsZT1cImNvbG9yOiMwQzAwMDBcIj5NeVBhcnNlUycsXG4gICAgICAgIGRlc2M6IHZlcnNpb25UaXBzLFxuICAgICAgICB1cmw6ICFnZXRWYXIoJ2txanhjcycpID8gJ3RvYXN0Oi8v6L+Z5piv5qCH6aKYJyA6IHNldHVwUGFnZXMoJ+iuvue9ricsIDEpLFxuICAgICAgICAvKiAkKFtcIuWIh+aNouino+aekFwiLCBcIuajgOa1i+ino+aekFwiLCBcIuWIh+aNouearuiCpFwiXSwgMikuc2VsZWN0KCgpID0+ICQoKS5ydWxlKChrKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UmVzdWx0KFt7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBrXG4gICAgICAgICAgICAgICAgfV0pXG4gICAgICAgICAgICB9LCBpbnB1dCkpLCovXG4gICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICBuZXdXaW5kb3c6IHRydWUsXG4gICAgICAgICAgICB3aW5kb3dJZDogXCJNeVBhcnNlU1wiLFxuICAgICAgICAgICAgbGluZVZpc2libGU6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcbiAgICB9KTtcbiAgICBzcGxpdExpbmUoJ2xpbmUnLCA1KTtcbn1cblxuZnVuY3Rpb24gcnVsZXNVcGRhdGUoKSB7XG4gICAgcmVxdWlyZShmTGlua3Mua1QgKyAnTXlGaWVsZFVwZGF0ZS50eHQnKTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxzbWFsbD7liLfmlrDmlbDmja4nLFxuICAgICAgICBkZXNjOiAn4oCY4oCY4oCZ4oCZPHNtYWxsPumhtemdouaVsOaNruS4uue8k+WtmOaVsOaNru+8jOS4jeWumuaXtuiHquWKqOabtOaWsO+8jOWPr+aJi+WKqOeCueWHu+abtOaWsCcsXG4gICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoVXJsKSA9PiB7XG4gICAgICAgICAgICBsZXQgbm93VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBpZiAobm93VGltZSAtIGdldEl0ZW0oJ2lzUmVmcmVzaFRpbWUnLCAnJykgPiA2MDAwMDApIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlKFVybCk7XG4gICAgICAgICAgICAgICAgc2V0SXRlbSgnaXNSZWZyZXNoVGltZScsIG5vd1RpbWUgKyAnJyk7XG4gICAgICAgICAgICAgICAgZ2V0Q2xvdWREYXRhKDApO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFyKCdnZXREYXRhU3RhdGUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mXtOmalOWwj+S6jjEw5YiG6ZKfJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZkxpbmtzLmp4SXRVcmwpXG4gICAgfSk7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgY29sX3R5cGU6ICdibGFua19ibG9jaydcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICBjb2xfdHlwZTogJ2xpbmUnXG4gICAgfSk7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJk8c3Ryb25nPuinhCDliJk8L3N0cm9uZz48YnI+PHNtYWxsPjxzcGFuIHN0eWxlPVwiY29sb3I6Z3JleVwiPueCueWHu+afpeeci+abtOaWsOaXpeW/lycsXG4gICAgICAgIHVybDogZkxpbmtzLmd4cnpcbiAgICB9KTtcbiAgICBsZXQgTXlScyA9IFtdO1xuICAgIGxldCBhbGxScyA9IEpTT04ucGFyc2UoZmV0Y2goJ2hpa2VyOi8vaG9tZScpKTtcbiAgICBmb3IgKGxldCByID0gMDsgciA8IGFsbFJzLmxlbmd0aDsgcisrKSB7XG4gICAgICAgIGxldCBhUnMgPSBhbGxSc1tyXTtcbiAgICAgICAgaWYgKGFScy5hdXRob3IgPT0gJ+aWreW/tScpIHtcbiAgICAgICAgICAgIE15UnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGFScy50aXRsZSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBhUnMudmVyc2lvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbG9jYWxWID0gJ+acquWvvOWFpScsXG4gICAgICAgICAgICBScyA9IFJ1bGVzW2ldO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE15UnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChNeVJzW2pdLnRpdGxlID09IFJzLnRpdGxlICsgJ+G0sOKBvycpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFYgPSBNeVJzW2pdLnZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHlWID0gbG9jYWxWICE9IFJzLnZlcnNpb24gPyAn4oCY4oCYJyArIFJzLnZlcnNpb24gKyAn4oCZ4oCZJyA6IFJzLnZlcnNpb247XG4gICAgICAgIGxldCBSc0Rlc2MgPSBScy5kZXNjICE9IHVuZGVmaW5lZCA/ICc8L3N0cm9uZz48c3BhbiBzdHlsZT1cImNvbG9yOmdyZXlcIj48c21hbGw+KCcgKyBScy5kZXNjICsgJyknIDogJyc7XG4gICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxzdHJvbmc+PHNwYW4gc3R5bGU9XCJjb2xvcjojMjk4QTA4XCI+JyArIFJzLnRpdGxlICsgUnNEZXNjLFxuICAgICAgICAgICAgZGVzYzogJ+KAmOKAmOKAmeKAmTxzbWFsbD7mnKzlnLDniYjmnKw8L3NtYWxsPjxiaWc+ICcgKyBsb2NhbFYgKyAnIDogJyArIHlWICsgJyA8L2JpZz7igJjigJjigJnigJk8c21hbGw+5LqR56uv54mI5pysPC9zbWFsbD4nLFxuICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLFxuICAgICAgICAgICAgdXJsOiBsb2NhbFYgPT0gUnMudmVyc2lvbiA/ICd0b2FzdDovL+ayoeacieaWsOeJiOacrCcgOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChVcmwpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VQYXN0ZShVcmwpO1xuICAgICAgICAgICAgfSwgUnMudXJsKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJk8c3Ryb25nPuiEmiDmnKwnLFxuICAgICAgICB1cmw6IGZMaW5rcy5neHJ6XG4gICAgfSk7XG4gICAgZm9yIChsZXQgcyA9IDA7IHMgPCBTY3JpcHQubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgbGV0IFN0ID0gU2NyaXB0W3NdO1xuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJk8c3BhbiBzdHlsZT1cImNvbG9yOiMyOThBMDhcIj48c21hbGw+JyArIFN0LnRpdGxlICsgJyAtICcgKyBTdC52ZXJzaW9uLFxuICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzInLFxuICAgICAgICAgICAgdXJsOiAoJycgKyBTdC51cmwpLnN0YXJ0c1dpdGgoJ3RvYXN0JykgPyBTdC51cmwgOiAkKFN0LnVybCArICcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChmTGlua3MpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gaW5wdXQuc3BsaXQoJyMjJyk7XG4gICAgICAgICAgICAgICAgdmFyIGZyb20gPSBhcnJbMF0sXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBhcnJbMV07XG4gICAgICAgICAgICAgICAgdmFyIFVybCA9IG5hbWUgPT0gdW5kZWZpbmVkID8gZnJvbSA6IGZMaW5rc1tmcm9tXSArIG5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBmZXRjaENhY2hlKFVybCwgMik7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVGaWxlKCdoaWtlcjovL2ZpbGVzL2NhY2hlLycgKyBuYW1lLCBodG1sKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WvvOWFpeaIkOWKnyc7XG4gICAgICAgICAgICB9LCBmTGlua3MpXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3pHdWlkZSgpIHtcbiAgICByZXR1cm4gZkxpbmtzLmN6enlcbn1cblxuZnVuY3Rpb24gdG9mTGluayhVcmwpIHtcbiAgICByZXR1cm4gJ2hpa2VyOi8vZmlsZXMvbGlicy8nICsgbWQ1KFVybCkgKyAnLmpzJztcbn1cblxuZnVuY3Rpb24gZWRpdEZpbGUoKSB7XG4gICAgdmFyIExpc3RzID0gW3tcbiAgICAgICAgdGl0bGU6ICfnlKjmiLfop6PmnpDmlofku7YnLFxuICAgICAgICBsaW5rOiBmTGlua3MucGFyc2VzXG4gICAgfSwge1xuICAgICAgICB0aXRsZTogJ1BhcnNlX0RuLmpzJyxcbiAgICAgICAgbGluazogZkxpbmtzLmNqY2FjaGVcbiAgICB9LCB7XG4gICAgICAgIHRpdGxlOiAn572R6aG16ISa5pys5Luj56CBJyxcbiAgICAgICAgbGluazogZkxpbmtzLng1Y2FjaGVcbiAgICB9LCB7XG4gICAgICAgIHRpdGxlOiAn6LCD55So6Lev55Sx5Luj56CBJyxcbiAgICAgICAgbGluazogdG9mTGluayhmTGlua3Mucm91dGVVcmwpXG4gICAgfSwge1xuICAgICAgICB0aXRsZTogJ+ino+aekOmhueS4u+S7o+eggScsXG4gICAgICAgIGxpbms6IHRvZkxpbmsoZkxpbmtzLmp4SXRVcmwpXG4gICAgfSwge1xuICAgICAgICB0aXRsZTogJ+e8lui+keino+aekOmhueS7o+eggScsXG4gICAgICAgIGxpbms6IHRvZkxpbmsoZkxpbmtzLl9ialVybClcbiAgICB9XTtcbiAgICBmb3IgKGkgb2YgTGlzdHMpIHtcbiAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBpLnRpdGxlLFxuICAgICAgICAgICAgdXJsOiAnZWRpdEZpbGU6Ly8nICsgaS5saW5rLFxuICAgICAgICAgICAgLy9jb2xfdHlwZTogJ3RleHRfMidcbiAgICAgICAgfSlcbiAgICB9XG4gICAgaWYgKCFnZXRWYXIoJ2VkaXRGaWxlUG9wdXAnKSkge1xuICAgICAgICBjb25maXJtKHtcbiAgICAgICAgICAgIHRpdGxlOiAn5rip6aao5o+Q56S6JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfmraTpobnlip/og73kuI3lu7rorq7lsI/nmb3nlKjmiLfkvb/nlKgnLFxuICAgICAgICAgICAgY29uZmlybTogJ3B1dFZhcihcImVkaXRGaWxlUG9wdXBcIixcIjFcIiknXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG50cnkge1xuICAgIHJlcXVpcmUoXCJodHRwczovL2docHJveHkubmV0L2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sczEyNTc4MTAwMy9kY2JmL20vdi9Sb3V0ZS5qc1wiKTtcbiAgICBzd2l0Y2ggKGdldFBhcmFtKCdjbGFzcycpKSB7XG4gICAgICAgIGNhc2UgXCJlZGl0RmlsZVwiOlxuICAgICAgICAgICAgZWRpdEZpbGUoKTtcbiAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiVXBkYXRlXCI6XG4gICAgICAgICAgICBydWxlc1VwZGF0ZSgpO1xuICAgICAgICAgICAgc2V0UmVzdWx0KGQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmVxdWlyZShmTGlua3MuanhJdFVybCk7XG4gICAgICAgICAgICBqeEl0ZW0ubHFGaWxlKCk7XG4gICAgICAgICAgICBSb3V0ZS5hZGRMYW5KaWUoZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59IGNhdGNoIChlKSB7XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IFwi5pON5L2c5oyH5byVXCIsXG4gICAgICAgIHVybDogY3pHdWlkZSgpLFxuICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCJcbiAgICB9KVxuICAgIGNvbmZpcm0oe1xuICAgICAgICB0aXRsZTogJ+eoi+W6j+WHuumUmeS6hihfIF8pJyxcbiAgICAgICAgY29udGVudDogJ+ihjOaVsDogJyArIGUubGluZU51bWJlciArICdcXG7or6bmg4U6ICcgKyBlLm1lc3NhZ2UsXG4gICAgICAgIGNvbmZpcm06ICdgY29weTovLycgKyBlLm1lc3NhZ2UgKyAnYCdcbiAgICB9KTtcbiAgICBzZXRSZXN1bHQoZCk7XG59Iiwic2VhcmNoX3VybCI6IiIsImdyb3VwIjoi4pGj5bel5YW3Iiwic2VhcmNoRmluZCI6IiIsImRldGFpbF9jb2xfdHlwZSI6Im1vdmllXzEiLCJkZXRhaWxfZmluZF9ydWxlIjoiIiwic2RldGFpbF9jb2xfdHlwZSI6Im1vdmllXzEiLCJzZGV0YWlsX2ZpbmRfcnVsZSI6IiIsInVhIjoibW9iaWxlIiwicHJlUnVsZSI6Ii8v5aaC5p6c5Ye6546w6I635Y+W5LiN5Yiw6L+c56iL6LWE5rqQ55qE5oOF5Ya177yM5oqK4oCcLy9rVOKAneeahOKAnC8v4oCd5Y675o6J54S25ZCO6YeN5ZCvQVBQXG5cbnZhciBrVCA9IFwiaHR0cHM6Ly9naHByb3h5Lm5ldC9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvXCIsXG4gICAga1QyID0ga1Q7XG4gICAga1QzID0ga1Q7XG4vL2tUID0ga1QyO1xudmFyIGZMaW5rcyA9IHtcbiAgICBrVDoga1QsXG4gICAga1QyOiBrVDIsXG4gICAga1QzOiBrVDMsXG4gICAgY2pGcm9tOiAnaGlrZXI6Ly9wYWdlL1BhcnNlX0RuLmpzJyxcbiAgICB4NUZyb206ICdoaWtlcjovL3BhZ2UvUGFyc2VfRG4uaHRtbCcsXG4gICAgX2JqVXJsOiBrVCArICdqeEl0ZW1fYmouanMnLFxuICAgIGp4SXRVcmw6IGtUICsgJ2p4SXRlbS5qcycsXG4gICAgcm91dGVVcmw6ICdodHRwczovL2docHJveHkubmV0L2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sczEyNTc4MTAwMy9kY2JmL20vdi9Sb3V0ZS5qcycsXG4gICAgY2pjYWNoZTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvUGFyc2VfRG4uanMnLFxuICAgIHg1Y2FjaGU6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL1BhcnNlX0RuLmh0bWwnLFxuICAgIHBsZ2w6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL3BsZ2xQYXJzZS5odG1sJyxcbiAgICBMYW5KaWU6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL3g1UGFyc2VMYW5KaWUudHh0JyxcbiAgICBjb25maWc6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL015UGFyc2VTZXQuanNvbicsXG4gICAgcGFyc2VzOiAnaGlrZXI6Ly9maWxlcy9ydWxlcy9EdWFuTmlhbi9NeVBhcnNlLmpzb24nLFxuICAgIGN6enk6ICdodHRwczovL2RvY3MucXEuY29tL2RvYy9EVlhOR1ZHZExSRUZQWTNaeicsXG4gICAgZ3hyejogJ2h0dHBzOi8vd3d3Lnl1cXVlLmNvbS9kdWFubmlhbi1jb3F0Yi9lbHk4Y2EvZ2FmN29wJyxcbiAgICB2dWU6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL3Z1ZUAyLjUuMTYuanMnLFxuICAgIGpxdWVyeTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvanF1ZXJ5QDIuMS40LmpzJyxcbiAgICB4NVJvdXRlOiAnZmlsZTovLy9zdG9yYWdlL2VtdWxhdGVkLzAvQW5kcm9pZC9kYXRhL2NvbS5leGFtcGxlLmhpa2Vydmlldy9maWxlcy9Eb2N1bWVudHMvY2FjaGUvJ1xufTtcbmxldCBmUm91dGUgPSAnaGlrZXI6Ly9maWxlcy9jYWNoZS9maWxlTGlua3PhtLDigb8udHh0JztcbmlmICghZ2V0VmFyKCdqeEl0ZW1WJykgfHwgZ2V0VmFyKCdqeEl0TmV3VicsICcwJykgIT09ICcwJykge1xuICAgIHdyaXRlRmlsZShmUm91dGUsICd2YXIgZkxpbmtzPScgKyAkLnN0cmluZ2lmeShmTGlua3MpKTtcbn0iLCJwYWdlcyI6Ilt7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwiUGFyc2VfRG4uaHRtbFwiLFwicGF0aFwiOlwiUGFyc2VfRG4uaHRtbFwiLFwicnVsZVwiOlwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+XFxuPGhlYWQ+XFxuICAgIDxtZXRhIGNoYXJzZXQ9XFxcInV0Zi04XFxcIj5cXG4gICAgPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEsbWluaW11bS1zY2FsZT0xLG1heGltdW0tc2NhbGU9MSx1c2VyLXNjYWxhYmxlPW5vXFxcIiAvPlxcbiAgICA8IS0tXFxuICAgIDxzY3JpcHQgc3JjPVxcXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3Z1ZUAyLjUuMTYvZGlzdC92dWUubWluLmpzXFxcIj48L3NjcmlwdD5cXG4gICAgPHNjcmlwdCBzcmM9XFxcImh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanNcXFwiPjwvc2NyaXB0PlxcbiAgICBcXG4gICAgPHNjcmlwdCBzcmM9XFxcImh0dHA6Ly9hcHBzLmJkaW1nLmNvbS9saWJzL2pxdWVyeS8yLjEuNC9qcXVlcnkubWluLmpzXFxcIj48L3NjcmlwdD5cXG4gICAgPHNjcmlwdCBzcmM9XFxcImh0dHA6Ly9hcHBzLmJkaW1nLmNvbS9saWJzL3Z1ZS8xLjAuMTQvdnVlLmpzXFxcIj48L3NjcmlwdD5cXG4gICAgLS0+XFxuICAgIDx0aXRsZT5QYXJzZV9EbjwvdGl0bGU+XFxuICAgIDxzdHlsZSB0eXBlPXRleHQvY3NzPlxcbiAgICAgICAgaHRtbCwgYm9keSB7XFxuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvO1xcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICB9XFxuICAgICAgICBib2R5IHtcXG4gICAgICAgICAgICBtYXJnaW46IDAgNXB4IDAgNXB4O1xcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMHB4IDAgMHB4O1xcbiAgICAgICAgICAgIC8vYmFja2dyb3VuZDogI0Y5RjBEQTtcXG4gICAgICAgICAgICBmb250LXdlaWdodDogMDtcXG4gICAgICAgICAgICBmb250LWZhbWlseTogXFxcIk1pY3Jvc29mdCBZYUhlaVxcXCIsXFxcIuWui+S9k1xcXCIsXFxcIlNlZ29lIFVJXFxcIiwgXFxcIkx1Y2lkYSBHcmFuZGVcXFwiLCBIZWx2ZXRpY2EsIEFyaWFsLHNhbnMtc2VyaWYsIEZyZWVTYW5zLCBBcmltbztcXG4gICAgICAgIH1cXG4gICAgICAgICNkaXYye1xcbiAgICAgICAgICAgbWFyZ2luLXRvcDozNXB4O1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrovpPlhaXmoYbniLblhYPntKAqL1xcbiAgICAgICAgZGl2LmJveCB7XFxuICAgICAgICAgICAgaGVpZ2h0OiA1M3B4O1xcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q6L6T5YWl5qGG5bC65a+4Ki9cXG4gICAgICAgIGZvcm0ge1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgICAgICB3aWR0aDogOTIlO1xcbiAgICAgICAgfVxcbiAgICAgICAgaW5wdXQsIGxhYmVsLCAubGllYiBidXR0b24ge1xcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrlrZfkvZPkvY3nva4qL1xcbiAgICAgICAgaW5wdXQge1xcbiAgICAgICAgICAgIHdpZHRoOiA3NyU7XFxuICAgICAgICAgICAgaGVpZ2h0OiAzMnB4O1xcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNjZweDtcXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xcbiAgICAgICAgfVxcbiAgICAgICAgbGFiZWwge1xcbiAgICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA0M3B4O1xcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICAgICAgICB3aWR0aDogNjBweDtcXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrlsI/moYYqL1xcbiAgICAgICAgLmJhciBsYWJlbCB7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogI0QwNkI2QztcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1NTUgNTU1cHggNTU1cHggNTU1O1xcbiAgICAgICAgICAgIHdpZHRoOiA2MHB4O1xcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcXG4gICAgICAgICAgICBjb2xvcjogI0Y5RjBEQTtcXG4gICAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgICAgbGVmdDogM3B4O1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrovpPlhaXmoYbmoLflvI8qL1xcbiAgICAgICAgLmJhciBpbnB1dCB7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogI0Y5RjBEQTtcXG4gICAgICAgICAgICBib3JkZXI6IDNweCBzb2xpZCAjRDA2QjZDO1xcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q5YiX6KGoKi9cXG4gICAgICAgIC5saWViIGJ1dHRvbiB7XFxuICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XFxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6NDBweDtcXG4gICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XFxuICAgICAgICAgICAgd2lkdGg6IDI3cHg7XFxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q5YiX6KGoKi9cXG4gICAgICAgIC5saWViIGJ1dHRvbntcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogI0QwNkI2QztcXG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XFxuICAgICAgICAgICAgY29sb3I6ICNGOUYwREE7XFxuICAgICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgICAgIHJpZ2h0OiAwcHg7XFxuICAgICAgICB9XFxuICAgICAgICAvKuWktOWDjyovXFxuICAgICAgICAucm91bmRfaWNvbntcXG4gICAgICAgICAgICB3aWR0aDogNDBweDtcXG4gICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XFxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLmp4LXVsLCAuY2otdWwge1xcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTtcXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgICAgICAgICAgd2lkdGg6IDc3JTtcXG4gICAgICAgICAgIC8vIGxlZnQ6IDEwJTtcXG4gICAgICAgIH1cXG4gICAgICAgIC5qeC11bCwgLmNqLXVsIHtcXG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgfVxcbiAgICAgICAgLmp4LXVsIHtcXG4gICAgICAgICAgICB0b3A6IDMlO1xcbiAgICAgICAgfVxcbiAgICAgICAgLmNqLXVsIHtcXG4gICAgICAgICAgICB0b3A6IDMwJTtcXG4gICAgICAgIH1cXG4gICAgICAgIGxpIHtcXG4gICAgICAgICAgICBoZWlnaHQ6IDM1cHg7XFxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAxYmZkYTtcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpO1xcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMzVweDtcXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gICAgICAgIH1cXG4gICAgICAgIGxpIHtcXG4gICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xcbiAgICAgICAgfVxcbiAgICAgICAgbGk6aG92ZXIge1xcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEzOSwgMTMxLCAxMjAsIDAuOSk7XFxuICAgICAgICB9XFxuICAgICAgICBsaVtjaGVjaz1cXFwidHJ1ZVxcXCJdIHtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEzOSwgMCwgMCwgMC45KTtcXG4gICAgICAgIH1cXG5cXG4gICAgPC9zdHlsZT5cXG48L2hlYWQ+XFxuXFxuPGJvZHk+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZ1bmdcXFwiPlxcbiAgICAgICAgPGEgc3R5bGU9XFxcImZsb2F0OmxlZnQ7XFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uICBzdHlsZT1cXFwiYm9yZGVyOiBub25lO2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOiAjYzU0NjRhO3dpZHRoOiA4MHB4OyBmb250LXNpemU6IDE4cHg7Y29sb3I6ICNGOUYwREE7XFxcIiBvbmNsaWNrPVxcXCJjYW5jZWwoKTtcXFwiPuWFsyDpl608L2J1dHRvbj5cXG4gICAgICAgIDwvYT5cXG4gICAgICAgIDxhIHN0eWxlPVxcXCJmbG9hdDpyaWdodFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBzdHlsZT1cXFwiYm9yZGVyOiBub25lO2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOiAjMDY4MDA2O3dpZHRoOiA4MHB4OyBmb250LXNpemU6IDE4cHg7Y29sb3I6ICNGOUYwREE7XFxcIm9uY2xpY2s9XFxcImNsaWNrbWUoJ+mFjSDnva4g5beyIOS/nSDlrZgg77yBJywgMTAwMCwgJ+W8gCcpO1xcXCI+5L+dIOWtmDwvYnV0dG9uPiBcXG4gICAgICAgIDwvYT5cXG4gICAgPC9kaXY+XFxuICAgIDxicj5cXG4gICAgPGRpdiBpZD1cXFwiZGl2MlxcXCI+PC9kaXY+XFxuICAgIDxkaXY+XFxuICAgICAgICA8YSBzdHlsZT1cXFwiZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjVweDtcXFwiIG9uY2xpY2s9XFxcIm9wZW5EblBhZ2UoKVxcXCI+XFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcImh0dHBzOi8vczMuYXgxeC5jb20vMjAyMS8wMi8yMi95N3diOU8uanBnXFxcIiBjbGFzcz1cXFwicm91bmRfaWNvblxcXCIgIGFsdD1cXFwiXFxcIj5cXG4gICAgICAgIDwvYT5cXG4gICAgICAgIDxzcGFuIHN0eWxlPVxcXCJsaW5lLWhlaWdodDo2MHB4O2ZvbnQtc2l6ZToxOHB4O2NvbG9yOiBncmV5O1xcXCI+Jm5ic3A7Jm5ic3A75patJm5ic3A75b+1PC9zcGFuPlxcbiAgICAgICAgPGEgc3R5bGU9XFxcImZsb2F0OnJpZ2h0O21hcmdpbi10b3A6NXB4O1xcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiAgc3R5bGU9XFxcImJvcmRlcjogbm9uZTtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDogIzA1QkZDNTt3aWR0aDogMTg1cHg7aGVpZ2h0OjQwcHg7IGZvbnQtc2l6ZTogMThweDtjb2xvcjogI0Y5RjBEQTtcXFwiIG9uY2xpY2s9XFxcImNsaWNrbWUoJ+mFjSDnva4g5beyIOS/nSDlrZgg77yBJywgMTAwMCwgJ+WFsycpO1xcXCI+5L+d5a2Y6K6+572u5bm25YWz6Zet55WM6Z2iPC9idXR0b24+XFxuICAgICAgICA8L2E+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ6ai1kaXZcXFwiPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJqeC11bFxcXCIgc3R5bGU9XFxcImhlaWdodDo0NDRweDtvdmVyZmxvdy15OmF1dG87XFxcIj5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcIm15Q2hvaWNlXFxcIiBzdHlsZT1cXFwiei1pbmRleDo5OTk5O3Bvc2l0aW9uOiBmaXhlZDt3aWR0aDo3Ni41JTtjb2xvcjpyZWQ7XFxcIj48L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwidXNlbGVzc1xcXCI+PC9saT5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcInhsTGlzdFxcXCIgdi1mb3I9XFxcIml0ZW0gaW4ganhEYXRhXFxcIj57e2l0ZW19fTwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJjai11bFxcXCI+XFxuICAgICAgICAgICAgPGxpIHN0eWxlPVxcXCJiYWNrZ3JvdW5kOmdyZXk7XFxcIj7or7fpgInmi6nmj5Lku7Y8L2xpPlxcbiAgICAgICAgICAgIDxsaSB2LWZvcj1cXFwiaXRlbSBpbiBjakRhdGFcXFwiPnt7aXRlbX19PC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbjwvYm9keT5cXG48c2NyaXB0PlxcbiAgICBldmFsKGZ5X2JyaWRnZV9hcHAuZmV0Y2goXFxcImhpa2VyOi8vZmlsZXMvY2FjaGUvanF1ZXJ5QDIuMS40LmpzXFxcIikpO1xcbiAgICBldmFsKGZ5X2JyaWRnZV9hcHAuZmV0Y2goXFxcImhpa2VyOi8vZmlsZXMvY2FjaGUvdnVlQDIuNS4xNi5qc1xcXCIpKTtcXG4gICAgZXZhbChmeV9icmlkZ2VfYXBwLmdldEludGVybmFsSnMoKSk7XFxuICAgIFxcbiAgICB2YXIgc2V0dGluZ3MgPSB7XFxuICAgICAgICBxeTogJ3l1bjE3MTcnLFxcbiAgICAgICAgeWs6ICd5dW4xNzE3JyxcXG4gICAgICAgIHR4OiAneXVuMTcxNycsXFxuICAgICAgICBtZzogJ3l1bjE3MTcnLFxcbiAgICAgICAgYmw6ICd5dW4xNzE3JyxcXG4gICAgICAgIG90aDogJ3l1bjE3MTcnLFxcbiAgICAgICAgcWp1OiAn6buY6K6kJyxcXG4gICAgICAgIGNqOiAnaGlrZXI6Ly9maWxlcy9jYWNoZS9QYXJzZV9Ebi5qcydcXG4gICAgfTtcXG4gICAgXFxuICAgIHZhciBvbGRSb3V0ZSA9IFxcXCJoaWtlcjovL2ZpbGVzL2NhY2hlL015UGFyc2VTZXQuanNvblxcXCI7XFxuICAgIHZhciBteVNldCA9IGZ5X2JyaWRnZV9hcHAuZmV0Y2gob2xkUm91dGUpO1xcbiAgICBcXG4gICAgdmFyIG5ld1JvdXRlID0gXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvRHVhbk5pYW4vTXlQYXJzZS5qc29uXFxcIjtcXG4gICAgdmFyIG5ld0NvbmZpZyA9IGZ5X2JyaWRnZV9hcHAuZmV0Y2gobmV3Um91dGUpO1xcbiAgICB2YXIgbXlTZWxlY3QgPSBbXTtcXG4gICAgdHJ5e1xcbiAgICAgICAgZXZhbChcXFwibmV3Q29uZmlnID1cXFwiICsgbmV3Q29uZmlnICsgXFxcIjtcXFwiKTtcXG4gICAgICAgIHNldHRpbmdzID0gbmV3Q29uZmlnLnNldHRpbmdzLnFqdSA9PSB1bmRlZmluZWQgPyBzZXR0aW5ncyA6IG5ld0NvbmZpZy5zZXR0aW5ncztcXG4gICAgICAgIHZhciB5Y1RpdGxlID0gWydkZWZhdWx0UGFyc2UnLCAnbWFvc3MnLCAnQ2l0eUlQJywgJ2NhY2hlTTN1OCcsICdwY1VBJywgJ3BhcnNlTGMnLCAnZ3BhcnNlJywgJ25wYXJzZSddO1xcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG5ld0NvbmZpZy50aXRsZS5sZW5ndGg7IGkrKyl7XFxuICAgICAgICAgICAgdmFyIFRpdGxlcyA9IG5ld0NvbmZpZy50aXRsZVtpXTtcXG4gICAgICAgICAgICBpZih5Y1RpdGxlLmluY2x1ZGVzKFRpdGxlcykgPT0gZmFsc2Upe1xcbiAgICAgICAgICAgICAgICBteVNlbGVjdC5wdXNoKFRpdGxlcyk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9Y2F0Y2goZSl7fVxcbiAgICB2YXIgc2ZSZWZyZXNoID0gc2V0dGluZ3MuY2o7XFxuICAgIGZ1bmN0aW9uIERpZChpZCl7XFxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xcbiAgICB9XFxuICAgIFxcbiAgICBpZihteVNldCA9PSAnJyl7XFxuICAgICAgICBEaWQoXFxcImRpdjJcXFwiKS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyQmVnaW4nLCdcXFxcXFxuPGg0PuaPkOekuu+8mjxicj7ikaDms6jmhI/mj5Lku7bpgInpobnvvIzmsqHmnInmiYvliqjlr7zlhaXmj5Lku7bnmoTor53kuI3nlKjliqjlroPjgILlpoLorr7nva7kuI3lvZPkvJrlr7zoh7Top4TliJnml6Dms5Xkvb/nlKjvvIw8YnI+6Kej5Yaz5Yqe5rOV77ya5bCP56iL5bqP6aaW6aG154K55Ye75oGi5aSN6buY6K6k5o+S5Lu277ybPGJyPuKRoeWFqOWxgOiuvue9ruWmguaenOmAieaLqeS6humdnum7mOiupOmCo+S5iOWFqOmDqOeahOino+aekOS8muS9v+eUqOi/meS4gOiuvue9ru+8jOS4jeaDs+i/meagt+eahOivneivt+Whq+WFpem7mOiupO+8mzxicj7ikaLnu7/oibLkv53lrZjmjInpkq7ku4Xku4Xkv53lrZjphY3nva7kuI3kvJrlhbPpl63orr7nva7pobXpnaLvvIzphY3nva7lkI7mg7Pkv53lrZjlubblhbPpl63orr7nva7pobXpnaLnmoTor53or7fngrnok53oibLmjInpkq7vvJs8YnI+4pGj6ZiF6K+75a6M5o+Q56S654K55YWz6Zet5Yqg6L295a6M5pW06K6+572u6aG16Z2i77yM5aaC5Ye66Zeu6aKY5peg5rOV6Ieq6KGM6Kej5Yaz54K55Zu+54mH6L+b5YWl6K665Z2b5ZCR5oiR5Y+N6aaI44CCPGJyPjwvaDQ+Jyk7XFxuICAgIH1cXG4gICAgXFxuICAgIHZhciBib3hEYXRhID0gW1xcbiAgICAgICAge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi5aWHIOWlh1xcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJxeVxcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLnF5LFxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi6YW3IOmFt1xcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJ5a1xcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLnlrLFxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi6IW+IOiFvlxcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJ0eFxcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLnR4LFxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi5p6cIOaenFxcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJtZ1xcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLm1nLFxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi5ZOpIOWTqVxcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJibFxcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLmJsLFxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi5YW2IOS7llxcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJvdGhcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5vdGgsXFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLlhagg5bGAXFxcIixcXG4gICAgICAgICAgICBpZDogXFxcInFqdVxcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLnFqdSxcXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuaPkiDku7ZcXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwiY2pcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5jaixcXG4gICAgICAgIH1cXG4gICAgXTtcXG5cXG4gICAgdmFyIGlucHV0Qm94ID0gXFxcIlxcXCI7XFxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBib3hEYXRhLmxlbmd0aDsgaSsrKXtcXG4gICAgICAgIGxldCBiID0gYm94RGF0YVtpXTtcXG4gICAgICAgIGlucHV0Qm94ICs9ICc8ZGl2IGNsYXNzPVxcXCJib3ggYmFyXFxcIj5cXFxcXFxuICAgICAgICAgICAgPGZvcm0+XFxcXFxcbiAgICAgICAgICAgICAgICA8bGFiZWwgdHlwZT1cXFwic3VibWl0XFxcIj4nICsgYi50aXRsZSArICc8L2xhYmVsPlxcXFxcXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLovpPlhaXop6PmnpDlkI3miJbogIVVUkwuLi4uLi5cXFwiIHZhbHVlPVxcXCInICsgYi52YWx1ZSArICdcXFwiIGlkPVxcXCInICsgYi5pZCArICdcXFwiPlxcXFxcXG4gICAgICAgICAgICA8L2Zvcm0+XFxcXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxpZWJcXFwiPlxcXFxcXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cXFwiJyArIGIuaWQgKyAnU2VsZWN0XFxcIj7imLA8L2J1dHRvbj5cXFxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXFxcbiAgICAgICAgPC9kaXY+JztcXG4gICAgfVxcbiAgICBEaWQoXFxcImRpdjJcXFwiKS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgaW5wdXRCb3gpO1xcbiAgICBEaWQoXFxcImNqXFxcIikucGxhY2Vob2xkZXIgPSBcXFwi6L6T5YWl5o+S5Lu25Zyw5Z2ALi4uLi4uXFxcIjtcXG4gICAgRGlkKFxcXCJxanVcXFwiKS5wbGFjZWhvbGRlciA9IFxcXCLmraTpobnlu7rorq7nlZnnqbrmiJbogIXloavpu5jorqTkuKTkuKrlrZdcXFwiO1xcbiAgICBcXG4gICAgbmV3IFZ1ZSh7XFxuICAgICAgICBlbDogXFxcIi56ai1kaXZcXFwiLFxcbiAgICAgICAgZGF0YToge1xcbiAgICAgICAgICAgIGp4RGF0YTogbXlTZWxlY3QsXFxuICAgICAgICAgICAgY2pEYXRhOiBbXFxcImhpa2VyOi8vZmlsZXMvY2FjaGUvUGFyc2VfRG4uanNcXFwiLCBcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL2pzL3NyY2F1dG8uanNcXFwiLCBcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9qcy9QYXJzZS1WMl9Ebi5qc1xcXCJdXFxuICAgICAgICB9XFxuICAgIH0pO1xcblxcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcXG4gICAgICAgIHZhciBsZW4gPSAkKCcuangtdWwnKS5jaGlsZHJlbignbGknKS5sZW5ndGg7XFxuICAgICAgICB2YXIgbGVuMiA9ICQoJy5jai11bCcpLmNoaWxkcmVuKCdsaScpLmxlbmd0aDtcXG4gICAgICAgICQoJy5saWViIGJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcXG4gICAgICAgICAgICBpZigkKCcubGllYiBidXR0b24nKS50ZXh0KCkuaW5jbHVkZXMoJ+KUgScpKXtcXG4gICAgICAgICAgICAgICAgJCgnLmxpZWIgYnV0dG9uJykuY3NzKCdiYWNrZ3JvdW5kJywgJycpO1xcbiAgICAgICAgICAgICAgICAkKCcubGllYiBidXR0b24nKS50ZXh0KCfimLAnKTtcXG4gICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KCfilIEnKTtcXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQnLCAncmVkJyk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICQoJ2xpJykuYXR0cignY2hlY2snLCAnZmFsc2UnKTtcXG4gICAgICAgICAgICB2YXIgaW5wdXRpZCA9IFxcXCIjXFxcIiArIHRoaXMuaWQuc3BsaXQoXFxcIlNlbGVjdFxcXCIpWzBdO1xcbiAgICAgICAgICAgIHZhciBhcnIgPSAkKGlucHV0aWQpLnZhbCgpLnNwbGl0KCcsJyk7XFxuICAgICAgICAgICAgYXJyID0gYXJyWzBdID09ICcnID8gW10gOiBhcnI7XFxuICAgICAgICAgICAgJCgnLm15Q2hvaWNlJykudGV4dChhcnIpO1xcbiAgICAgICAgICAgIGlmIChpbnB1dGlkICE9PSAnI2NqJyAmJiAkKCcuY2otdWwnKS5jc3MoJ2Rpc3BsYXknKT09J25vbmUnKSB7XFxuICAgICAgICAgICAgICAgICQoJy5qeC11bCcpLnNsaWRlVG9nZ2xlKDMwMCk7XFxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBqeExpc3QgPSAkKCcuangtdWwgbGk6bm90KC5teUNob2ljZSknKS5lcShpKTtcXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnIuaW5jbHVkZXMoanhMaXN0LnRleHQoKSkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBqeExpc3QuYXR0cignY2hlY2snLCAndHJ1ZScpO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAganhMaXN0LnVuYmluZCgnY2xpY2snKS5jbGljayhmdW5jdGlvbihlKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdjaGVjaycpICE9PSBcXFwidHJ1ZVxcXCIpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdjaGVjaycsICd0cnVlJyk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci51bnNoaWZ0KCQodGhpcykudGV4dCgpKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpbnB1dGlkKS52YWwoYXJyKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15Q2hvaWNlJykudGV4dChhcnIpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignY2hlY2snLCAnZmFsc2UnKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBhcnIubGVuZ3RoOyBhKyspIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJbYV0gPT0gJCh0aGlzKS50ZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKGEsIDEpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaW5wdXRpZCkudmFsKGFycik7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15Q2hvaWNlJykudGV4dChhcnIpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0gZWxzZSBpZigkKCcuangtdWwnKS5jc3MoJ2Rpc3BsYXknKT09J25vbmUnKXtcXG4gICAgICAgICAgICAgICAgJCgnLmNqLXVsJykuc2xpZGVUb2dnbGUoMjAwKTtcXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4yOyBpKyspIHtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBjakxpc3QgPSAkKCcuY2otdWwgbGknKS5lcShpKTtcXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGlucHV0aWQpLnZhbCgpID09IGNqTGlzdC50ZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBjakxpc3QuYXR0cignY2hlY2snLCAndHJ1ZScpO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgY2pMaXN0LnVuYmluZCgnY2xpY2snKS5jbGljayhmdW5jdGlvbigpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gMCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbCgkKHRoaXMpLnRleHQoKSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignY2hlY2snLCAndHJ1ZScpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCkuYXR0cignY2hlY2snLCAnZmFsc2UnKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSk7XFxuICAgICAgICAkKGRvY3VtZW50KS5ub3QoJCgnLnhsTGlzdCcpKS5jbGljayhmdW5jdGlvbihlKSB7XFxuICAgICAgICAgICAgJCgnLmp4LXVsJykuc2xpZGVVcCgpO1xcbiAgICAgICAgICAgICQoJy5jai11bCcpLnNsaWRlVXAoKTtcXG4gICAgICAgICAgICAkKCcubGllYiBidXR0b24nKS50ZXh0KCfimLAnKTtcXG4gICAgICAgICAgICAkKCcubGllYiBidXR0b24nKS5jc3MoJ2JhY2tncm91bmQnLCAnJyk7XFxuICAgICAgICB9KTtcXG4gICAgICAgICQoZnVuY3Rpb24oKXtcXG4gICAgICAgICAgICAkKCdsYWJlbCcpLm1vdXNldXAoZnVuY3Rpb24oKXtcXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0aWQgPSAnIycgKyAkKHRoaXMpLm5leHQoKS5hdHRyKCdpZCcpO1xcbiAgICAgICAgICAgICAgICBvbmVPckRibChpbnB1dGlkKTtcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xcbiAgICAgICAgICAgIHZhciB0aW1lcjtcXG4gICAgICAgICAgICBmdW5jdGlvbiBvbmVPckRibChpbnB1dGlkKXtcXG4gICAgICAgICAgICAgICAgY291bnQrKztcXG4gICAgICAgICAgICAgICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xcbiAgICAgICAgICAgICAgICAgICAgaWYoY291bnQgPT0gMSl7XFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFyciA9ICQoaW5wdXRpZCkudmFsKCkuc3BsaXQoJywnKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKDAsIDEpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICQoaW5wdXRpZCkudmFsKGFycik7XFxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbCgnJyk7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVyKTtcXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMDtcXG4gICAgICAgICAgICAgICAgfSwyNjApXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSlcXG4gICAgfSk7XFxuICAgIFxcbiAgICBmdW5jdGlvbiBUb2FzdChtc2csZHVyYXRpb24peyAgXFxuICAgICAgICBkdXJhdGlvbj1pc05hTihkdXJhdGlvbik/MjAwMDpkdXJhdGlvbjsgIFxcbiAgICAgICAgdmFyIG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgIFxcbiAgICAgICAgbS5pbm5lckhUTUwgPSBtc2c7ICBcXG4gICAgICAgIG0uc3R5bGUuY3NzVGV4dD1cXFwid2lkdGg6NDUlOyBtaW4td2lkdGg6MTUwcHg7IGJhY2tncm91bmQ6IzMxMTsgb3BhY2l0eTowLjY7IGhlaWdodDphdXRvO21pbi1oZWlnaHQ6IDQ1cHg7IGNvbG9yOiNmZmY7IGxpbmUtaGVpZ2h0OjQ1cHg7IHRleHQtYWxpZ246Y2VudGVyOyBib3JkZXItcmFkaXVzOjEwcHg7IHBvc2l0aW9uOmZpeGVkOyB0b3A6NjAlOyBsZWZ0OjI2JTsgei1pbmRleDo5OTk5OTk7XFxcIjsgIFxcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtKTsgIFxcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgIFxcbiAgICAgICAgICAgIHZhciBkID0gMC41OyAgXFxuICAgICAgICAgICAgbS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gJy13ZWJraXQtdHJhbnNmb3JtICcgKyBkICsgJ3MgZWFzZS1pbiwgb3BhY2l0eSAnICsgZCArICdzIGVhc2UtaW4nOyAgXFxuICAgICAgICAgICAgbS5zdHlsZS5vcGFjaXR5ID0gJzAnOyAgXFxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtKSB9LCBkICogMTAwMCk7ICBcXG4gICAgICAgIH0sIGR1cmF0aW9uKTsgIFxcbiAgICB9ICBcXG5cXG4gICAgZnVuY3Rpb24gb3BlbkRuUGFnZSgpe1xcbiAgICAgICAgZmJhLm9wZW4oSlNPTi5zdHJpbmdpZnkoe1xcbiAgICAgICAgICAgIHJ1bGU6IFxcXCI9Xl9ePVxcXCIsXFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLnrqHnkIbop6PmnpBcXFwiLFxcbiAgICAgICAgICAgIHVybDogXFxcImhpa2VyOi8vZW1wdHkjbm9IaXN0b3J5I1xcXCIsXFxuICAgICAgICAgICAgZmluZFJ1bGU6IFxcXCJqczp0aGlzLmQ9W107ZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9jYWNoZS9maWxlTGlua3PhtLDigb8udHh0JykpO3JlcXVpcmUoZkxpbmtzLmp4SXRVcmwpO2p4SXRlbS5qeExpc3QoKTtzZXRSZXN1bHQoZClcXFwiXFxuICAgICAgICB9KSk7XFxuICAgIH1cXG4gICAgZnVuY3Rpb24gY2FuY2VsKCl7XFxuICAgICAgICBpZihteVNldD09Jycpe1xcbiAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAud3JpdGVGaWxlKG9sZFJvdXRlLCBKU09OLnN0cmluZ2lmeShzZXR0aW5ncywgbnVsbCwgNCkpO1xcbiAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAucmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICBmeV9icmlkZ2VfYXBwLmJhY2soZmFsc2UpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIGZ1bmN0aW9uIGNsaWNrbWUobXNnLGR1cmF0aW9uLHRpdGxlKXtcXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBib3hEYXRhLmxlbmd0aDsgaSsrKXtcXG4gICAgICAgICAgICBsZXQgaWQgPSBib3hEYXRhW2ldLmlkO1xcbiAgICAgICAgICAgIHNldHRpbmdzW2lkXSA9IERpZChpZCkudmFsdWU7XFxuICAgICAgICB9XFxuICAgICAgICBpZihzZXR0aW5ncy5xanUgPT0gJycpe1xcbiAgICAgICAgICAgIHNldHRpbmdzLnFqdSA9ICfpu5jorqQnO1xcbiAgICAgICAgfVxcbiAgICAgICAgdHJ5e1xcbiAgICAgICAgICAgIGV2YWwoJ3ZhciBiY0NvbmZpZz0nICsgZnlfYnJpZGdlX2FwcC5mZXRjaChuZXdSb3V0ZSkpO1xcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYmNDb25maWcuc2V0dGluZ3MsIHNldHRpbmdzKTtcXG4gICAgICAgICAgICBmeV9icmlkZ2VfYXBwLndyaXRlRmlsZShuZXdSb3V0ZSwgJCQkLnN0cmluZ2lmeShiY0NvbmZpZykpO1xcbiAgICAgICAgfWNhdGNoKGUpe31cXG4gICAgICAgIGZ5X2JyaWRnZV9hcHAud3JpdGVGaWxlKG9sZFJvdXRlLCAkJCQuc3RyaW5naWZ5KHNldHRpbmdzKSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICBUb2FzdChtc2csZHVyYXRpb24pO1xcbiAgICAgICAgaWYodGl0bGU9PVxcXCLlhbNcXFwiKXtcXG4gICAgICAgICAgICBpZihzZlJlZnJlc2ggIT0gRGlkKFxcXCJjalxcXCIpLnZhbHVlKXtcXG4gICAgICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5iYWNrKCk7XFxuICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAuYmFjayhmYWxzZSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5yZWZyZXNoUGFnZSh0cnVlKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbjwvc2NyaXB0PiAgIFxcbjwvaHRtbD5cIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIlBhcnNlX0RuLmpzXCIsXCJwYXRoXCI6XCJQYXJzZV9Ebi5qc1wiLFwicnVsZVwiOlwiLy89PT09PT09PT09PT3lhY3ll4XosIPnlKg9PT09PT09PT09PT1cXG4vL++8je+8je+8jT1eX149XFxuLy9A5pat5b+1XFxuXFxudmFyIHBhcnNlUm91dGUgPSAnaGlrZXI6Ly9maWxlcy9ydWxlcy9EdWFuTmlhbi9NeVBhcnNlLmpzb24nO1xcbnZhciBNeVBhcnNlUyA9IHt9O1xcbnZhciBteVNldCA9IHt9O1xcbmlmIChmaWxlRXhpc3QocGFyc2VSb3V0ZSkpIHtcXG4gICAgZXZhbCgndmFyIHBhcnNlRmlsZSA9JyArIGZldGNoKHBhcnNlUm91dGUpKTtcXG4gICAgTXlQYXJzZVMgPSBwYXJzZUZpbGUuY29kZXM7XFxuICAgIG15U2V0ID0gcGFyc2VGaWxlLnNldHRpbmdzO1xcbn1cXG52YXIgcGFyc2VUaXRsZSA9IFtcXG4gICAgXFxcIvCfpZpcXFwiLFxcbiAgICBcXFwieXVuMTcxN1xcXCIsXFxuICAgIFxcXCJQYW5HdVxcXCIsXFxuICAgIFxcXCJGdVhpbmdcXFwiLFxcbiAgICBcXFwiaHR0cHM6Ly9qeHguc215czguY24vaW5kZXgucGhwP3VybD1cXFwiLFxcbiAgICBcXFwiaHR0cHM6Ly9va2p4LmNjLz91cmw9XFxcIixcXG4gICAgXFxcImh0dHBzOi8vangubTN1OC50di9qaWV4aS8/dXJsPVxcXCIsXFxuICAgIFxcXCJodHRwczovL3NiLjVnc2VvLm5ldC8/dXJsPVxcXCJcXG5dO1xcblxcbi8v77yN77yN77yNPV5fXj1cXG5cXG4vL+aOpeWPo+iuvue9ri5cXG5cXG52YXIgc2V0VXJsID0gXFxcImhpa2VyOi8vZW1wdHkjbm9SZWNvcmRIaXN0b3J5I0BydWxlPWpzOnRoaXMuZD1bXTtyZXF1aXJlKCdodHRwczovL2docHJveHkubmV0L2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sczEyNTc4MTAwMy9kY2JmL20vdi9Sb3V0ZS5qcycpO1JvdXRlLnNldFBhcnNlKCk7c2V0UmVzdWx0KGQpO1xcXCI7XFxudmFyIHNldF9zd2l0Y2ggPSBzZXRVcmw7XFxudmFyIGxhenkgPSBgcmVxdWlyZSgnaHR0cHM6Ly9naHByb3h5Lm5ldC9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvUm91dGUuanMnKTtheXRtUGFyc2UoaW5wdXQpYDtcXG5cXG4vL3ZhciBwYXJ3aXggPSBgdmFyIHl1cmw9J2h0dHBzOi8vZGFpbGkubWF5aXhpb25nZGkuY24vP3VybD0nO1JlZmVyZXInOiAnaHR0cHM6Ly93d3cubWF5aXhpb25nZGkuY24veXM/aWQ9JzsnaHR0cHM6Ly9kYWlsaS5tYXlpeGlvbmdkaS5jbi9hcGkucGhwJywgJ1JlZmVyZXInOidodHRwczovL2RhaWxpLm1heWl4aW9uZ2RpLmNuJztcXG4vLyDlhajmsJFodHRwczovL3BjdmlkZW9hbGl5dW4udGlhbnNoYW5ncmVuamlhbi5tZ3R2LmNvbS44OHd1bWEuY29tLz91cmw9XFxuXFxuLy/vvI3vvI3vvI3lpIcg55So77yN77yN77yNXFxuLypcXG4gKiDlvbHop4blt6XlnLrvvJogaHR0cHM6Ly95c2djLmNjL1xcbiAqIOaxn+a5ljogNTU155S15b2xIGh0dHBzOi8vd3d3LjU1NWR5Mi5jb20vcGhvbmUuaHRtbCDvvZwgMTfnnIsgaHR0cDovLzE3a2FueXkuY24vIGh0dHA6Ly9qaGppZXhpLjMwdnIuY24vP3VybD0g772cIGh0dHA6Ly9hcGkubWFpemltYWxsLmNvbS9pbmRleC5waHA/dXJsPVxcbiAqIOaxn+a5ljogaHR0cDovL3d3dy50aWFuc2h1eXVuLm5ldC9pbmRleC5waHAvdm9kL3BsYXkvaWQvNDQ4Mzc3L3NpZC8xL25pZC8xLmh0bWxcXG4gKiDmsZ/muZYyOiBodHRwOi8vOThoeWsuY24vaW5kZXgucGhwL3ZvZC9wbGF5L2lkLzcyODQxL3NpZC8xL25pZC8xLmh0bWxcXG4gKiDkurrkurrov7c6IGh0dHBzOi8vdmlwLnN1c291LnR2L3BsYXllci8/dXJsPSDvvZwgaHR0cHM6Ly93d3cubW9tZG0uY2MvXFxuICogXFxuICogd3VpZ2VuOiBodHRwczovL3d3dy41aWdlbi5jb20vZG1wbGF5ZXIvcGxheWVyLz91cmw9XFxuICog5bmy6aWtKOS6uuS6uui/tyk6IGh0dHBzOi8vanguenVpLmNtLz91cmw9XFxuICogaHR0cHM6Ly8yLjY2bW92aWUudG9wL3BsYXllci8/dXJsPVxcbiAqIFxcbiAqL1xcblxcblxcbnZhciB0b29scyA9IHtcXG4gICAgTUQ1OiBmdW5jdGlvbihkYXRhKSB7XFxuICAgICAgICBldmFsKGdldENyeXB0b0pTKCkpO1xcbiAgICAgICAgcmV0dXJuIENyeXB0b0pTLk1ENShkYXRhKS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTtcXG4gICAgfSxcXG4gICAgQUVTOiBmdW5jdGlvbih0ZXh0LCBrZXksIGl2LCBpc0VuY3J5cHQpIHtcXG4gICAgICAgIGV2YWwoZ2V0Q3J5cHRvSlMoKSk7XFxuICAgICAgICB2YXIga2V5ID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2Uoa2V5KTtcXG4gICAgICAgIHZhciBpdiA9IENyeXB0b0pTLmVuYy5VdGY4LnBhcnNlKGl2KTtcXG4gICAgICAgIGlmIChpc0VuY3J5cHQpIHtcXG4gICAgICAgICAgICByZXR1cm4gQ3J5cHRvSlMuQUVTLmVuY3J5cHQodGV4dCwga2V5LCB7XFxuICAgICAgICAgICAgICAgIGl2OiBpdixcXG4gICAgICAgICAgICAgICAgbW9kZTogQ3J5cHRvSlMubW9kZS5DQkMsXFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IENyeXB0b0pTLnBhZC5Qa2NzN1xcbiAgICAgICAgICAgIH0pLnRvU3RyaW5nKCk7XFxuICAgICAgICB9O1xcbiAgICAgICAgcmV0dXJuIENyeXB0b0pTLkFFUy5kZWNyeXB0KHRleHQsIGtleSwge1xcbiAgICAgICAgICAgIGl2OiBpdixcXG4gICAgICAgICAgICBwYWRkaW5nOiBDcnlwdG9KUy5wYWQuUGtjczdcXG4gICAgICAgIH0pLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTtcXG4gICAgfSxcXG4gICAgLy9hc2NpaVxcbiAgICBuZXh0Q2hhcmFjdGVyOiBmdW5jdGlvbihhc2NpaVZhbHVlLCBrKSB7XFxuICAgICAgICB2YXIgcyA9IGFzY2lpVmFsdWU7XFxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShzICsgayk7XFxuICAgIH0sXFxuICAgIC8v5Yev5pKSXFxuICAgIGNhZXNhckNpcGhlcjogZnVuY3Rpb24oc3RyaW5nVmFsdWUsIGspIHtcXG4gICAgICAgIHZhciBuZXdTdHJpbmcgPSBcXFwiXFxcIjtcXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nVmFsdWUubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICBuZXdTdHJpbmcgKz0gdGhpcy5uZXh0Q2hhcmFjdGVyKHN0cmluZ1ZhbHVlW2ldLmNoYXJDb2RlQXQoKSwgayk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gbmV3U3RyaW5nO1xcbiAgICB9LFxcbiAgICBoYW5kbGVVcmw6IGZ1bmN0aW9uKHVybCwgdmlwVXJsLCBuYW1lKSB7XFxuICAgICAgICBpZih1cmwgPT0gXFxcIlxcXCIgfHwgdXJsID09IHZpcFVybCkge1xcbiAgICAgICAgICAgIGxvZyhuYW1lICsgXFxcIuino+aekOWksei0pVxcXCIpO1xcbiAgICAgICAgICAgIHJldHVybiB2aXBVcmw7XFxuICAgICAgICB9XFxuICAgICAgICBpZiAodXJsWzBdID09ICcvJykge1xcbiAgICAgICAgICAgIHVybCA9ICdodHRwczonICsgdXJsO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCc9aHR0cCcpICE9IC0xKSB7XFxuICAgICAgICAgICAgdXJsID0gdXJsLmluZGV4T2YoJyZ1cmw9JykgPiAtMSA/IHVybCA6ICdodHRwJyArIGRlY29kZVVSSUNvbXBvbmVudCh1cmwuc3BsaXQoJz1odHRwJylbMV0pO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKHZpcFVybC5pbmRleE9mKCdtZ3R2LmNvbScpICE9IC0xICYmIHVybC5pbmRleE9mKCdVc2VyLUFnZW50JykgPT0gLTEpIHtcXG4gICAgICAgICAgICB1cmwgPSB1cmwgKyAnO3tVc2VyLUFnZW50QGFwcH0nO1xcbiAgICAgICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZignLmZsdicpICE9IC0xKSB7XFxuICAgICAgICAgICAgdXJsID0gdXJsICsgJzt7VXNlci1BZ2VudEBhcHAmJlJlZmVyZXJAJyArIHZpcFVybCArICd9JztcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiB1cmwgKyAnI2lzVmlkZW89dHJ1ZSMnO1xcbiAgICB9XFxufTtcXG5cXG52YXIgUGFyc2VTID0ge307XFxudmFyIG9yaWdpbmFsUGFyc2VTID0ge1xcbiAgICBDaXR5SVA6ICdodHRwOi8vcHYuc29odS5jb20vY2l0eWpzb24nLFxcbiAgICBwY1VBOiAnVXNlci1BZ2VudEBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wXFxcXO+8m1xcXFzvvJsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OS4wLjI2MjMuODcgU2FmYXJpLzUzNy4zNicsXFxuICAgIGRlZmF1bHRQYXJzZTogZnVuY3Rpb24odXJsKSB7XFxuICAgICAgICBzaG93TG9hZGluZyhcXFwi5q2j5Zyo6LCD55So572R6aG16Kej5p6QLi4uXFxcIik7XFxuICAgICAgICByZXR1cm4gJCh1cmwpLndlYkxhenkoKCkgPT4ge1xcbiAgICAgICAgICAgIHZhciBVcmxzID0gX2dldFVybHMoKTtcXG4gICAgICAgICAgICB2YXIgUmVnMSA9IC9cXFxcLm1wNHxcXFxcLm0zdThcXFxcP3wubTN1OCR8XFxcXC5mbHZ8XFxcXC5hdml8XFxcXC5ybXZiLztcXG4gICAgICAgICAgICB2YXIgUmVnMiA9IC9wbGF5bTN1OHwuY3NzJHwuanMkfC5pY28kfGNuenpcXFxcLi87XFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBVcmxzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAgICAgICAgIGxldCBpc1VybCA9IFVybHNbaV07XFxuICAgICAgICAgICAgICAgIGlmIChSZWcxLnRlc3QoaXNVcmwpICYmICFSZWcyLnRlc3QoaXNVcmwpKSB7XFxuICAgICAgICAgICAgICAgICAgICBmYmEuaGlkZUxvYWRpbmcoKTtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1VybCArIFxcXCIjaXNWaWRlbz10cnVlI1xcXCI7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KTtcXG4gICAgfSxcXG4gICAgbWFvc3M6IGZ1bmN0aW9uKGp4dXJsLCByZWYsIGtleSkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICB2YXIgZ2V0VmlkZW9JbmZvID0gZnVuY3Rpb24odGV4dCkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHMuQUVTKHRleHQsIGtleSwgaXYpO1xcbiAgICAgICAgICAgIH07XFxuICAgICAgICAgICAga2V5ID0ga2V5ID09IHVuZGVmaW5lZCA/ICdkdnlZUlFsblBSQ01kUVNlJyA6IGtleTtcXG4gICAgICAgICAgICBpZiAocmVmKSB7XFxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gcmVxdWVzdChqeHVybCwge1xcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZWZlcmVyJzogcmVmXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gcmVxdWVzdChqeHVybCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmIChodG1sLmluZGV4T2YoJyZidHdhZj0nKSAhPSAtMSkge1xcbiAgICAgICAgICAgICAgICBodG1sID0gcmVxdWVzdChqeHVybCArICcmYnR3YWYnICsgaHRtbC5tYXRjaCgvJmJ0d2FmKC4qPylcXFwiLylbMV0sIHtcXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAnUmVmZXJlcic6IHJlZlxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB2YXIgaXYgPSBodG1sLnNwbGl0KCdfdG9rZW4gPSBcXFwiJylbMV0uc3BsaXQoJ1xcXCInKVswXTtcXG4gICAgICAgICAgICBldmFsKGh0bWwubWF0Y2goL3ZhciBjb25maWcgPSB7W1xcXFxzXFxcXFNdKj99LylbMF0gKyAnJyk7XFxuICAgICAgICAgICAgaWYgKGNvbmZpZy51cmwuc2xpY2UoMCwgNCkgIT0gJ2h0dHAnKSB7XFxuICAgICAgICAgICAgICAgIGNvbmZpZy51cmwgPSBkZWNvZGVVUklDb21wb25lbnQodG9vbHMuQUVTKGNvbmZpZy51cmwsIGtleSwgaXYpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZy51cmw7XFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICAgICAgcmV0dXJuICcnO1xcbiAgICAgICAgfVxcbiAgICB9LFxcbiAgICBMTFE6IGZ1bmN0aW9uKGp4dXJsKSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHZhciBhcGkgPSBqeHVybC5zcGxpdCgnP3VybD0nKVswXSArIFxcXCJhcGkucGhwXFxcIjtcXG4gICAgICAgICAgICB2YXIgYjY0aWQgPSBiYXNlNjRFbmNvZGUoanh1cmwuc3BsaXQoJ3VybD0nKVsxXSk7XFxuICAgICAgICAgICAgdmFyIHBhcnNlaWQgPSB0b29scy5jYWVzYXJDaXBoZXIoYjY0aWQsIC0xKTtcXG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVxdWVzdChhcGksIHtcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgJ1JlZmVyZXInOiBqeHVybFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcXG4gICAgICAgICAgICAgICAgYm9keTogJ3VybD0nICsgcGFyc2VpZFxcbiAgICAgICAgICAgIH0pKTtcXG4gICAgICAgICAgICB1cmwgPSAoanNvbi5jb2RlID09IDIwMCA/IGJhc2U2NERlY29kZSh0b29scy5jYWVzYXJDaXBoZXIoanNvbi51cmwsIC0xKSkgOiAnJyk7XFxuICAgICAgICAgICAgcmV0dXJuIHVybDtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICByZXR1cm4gJyc7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIFBhbkd1OiBmdW5jdGlvbih2aXBVcmwsIGRhdGEpIHtcXG4gICAgICAgIC8qdmFyIHJlZiA9ICdodHRwczovL3d3dy5wYW5ndWppZXhpLmNvbS8nO1xcbiAgICAgICAgdmFyIHBhcnNlID0gJ2h0dHBzOi8vcGFuZ3VhcGkubnRyeWpkLm5ldC9qaWV4aS8/dXJsPScgKyB2aXBVcmw7XFxuICAgICAgICB2YXIgYXBpID0gJ2h0dHBzOi8vcGFuZ3VhcGkubnRyeWpkLm5ldC9qaWV4aS9hcGkucGhwJztcXG4gICAgICAgICovXFxuICAgICAgICAvL3ZhciByZWYgPSAnaHR0cHM6Ly94bXlzdHYuY29tLyc7XFxuICAgICAgICAvL3ZhciBwYXJzZSA9ICdodHRwczovL3d3dy45OWtwdy5jb20vcGFuZ3UvaW5kZXgucGhwP3VybD0nICsgdGFpbFVybDtcXG4gICAgICAgIC8vdmFyIGFwaSA9ICdodHRwczovL3d3dy45OWtwdy5jb20vcGFuZ3UvYXBpLnBocCc7XFxuICAgICAgICB2YXIgcGFyc2UgPSBcXFwiaHR0cHM6Ly93d3cucGFuZ3VqaWV4aS5jb20vcGFuZ3UvP3VybD1cXFwiICsgdmlwVXJsO1xcbiAgICAgICAgdmFyIGFwaSA9IFxcXCJodHRwczovL3Bhbmd1YXBpLm50cnlqZC5uZXQvcGFuZ3UyMDIxL2FwaS5waHBcXFwiO1xcbiAgICAgICAgaWYgKGRhdGEpIHtcXG4gICAgICAgICAgICByZWYgPSBkYXRhWzBdO1xcbiAgICAgICAgICAgIHBhcnNlID0gZGF0YVsxXTtcXG4gICAgICAgICAgICBhcGkgPSBkYXRhWzJdO1xcbiAgICAgICAgfVxcbiAgICAgICAgdmFyIFRpbWUgPSAoTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApICogMSkudG9TdHJpbmcoKTtcXG4gICAgICAgIHZhciBqc29uID0gcmVxdWVzdChhcGksIHtcXG4gICAgICAgICAgICBoZWFkZXJzOiB7XFxuICAgICAgICAgICAgICAgIFxcXCJSZWZlcmVyXFxcIjogcGFyc2VcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIGJvZHk6IFxcXCJ1cmw9XFxcIiArIHZpcFVybCArIFxcXCImcmVmZXJlcj1cXFwiICsgYmFzZTY0RW5jb2RlKHBhcnNlKSArIFxcXCImcmVmPTEmdGltZT1cXFwiICsgVGltZSArIFxcXCImdHlwZT0mb3RoZXI9XFxcIiArIGJhc2U2NEVuY29kZSh2aXBVcmwpICsgXFxcIiZpb3M9MFxcXCIsXFxuICAgICAgICAgICAgbWV0aG9kOiBcXFwiUE9TVFxcXCJcXG4gICAgICAgIH0pO1xcbiAgICAgICAgdmFyIHVybCA9IGpzb25bMF0gPT0gXFxcIntcXFwiID8gSlNPTi5wYXJzZShqc29uKS51cmwgOiBcXFwiXFxcIjtcXG4gICAgICAgIHJldHVybiB1cmw7XFxuICAgIH0sXFxuICAgIHl1bjE3MTc6IGZ1bmN0aW9uKHZpcFVybCkge1xcbiAgICAgICAgdmFyIGlzeWsgPSB2aXBVcmwuaW5kZXhPZigneW91a3UnKTtcXG4gICAgICAgIHZhciByZWYgPSBcXFwiaHR0cHM6Ly93d3cuMTcxN3l1bi5jb20vangvdHkucGhwP3VybD1cXFwiICsgdmlwVXJsO1xcbiAgICAgICAgdmFyIHBhcnNlID0gXFxcImh0dHBzOi8vMTcxN3l1bi5jb20uemgxODgubmV0LzA4MjgvP3VybD1cXFwiICsgdmlwVXJsO1xcbiAgICAgICAgdmFyIGFwaSA9IFxcXCJodHRwczovLzE3MTd5dW4uY29tLnpoMTg4Lm5ldC8xMDA0Ly4uaW5kZXguLnBocFxcXCI7XFxuICAgICAgICByZXR1cm4gaXN5ayA9PSAtMSA/IHRoaXMuUGFuR3UodmlwVXJsLCBbcmVmLCBwYXJzZSwgYXBpXSkgOiB0aGlzLlBhbkd1KHZpcFVybCwgW3JlZiArICcsdmlwOicsIHBhcnNlICsgJyx2aXA6JywgYXBpXSk7XFxuICAgIH0sXFxuICAgIEZ1WGluZzogZnVuY3Rpb24odmlwVXJsKSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vaWYodmlwVXJsLmluZGV4T2YoJ3YueW91a3UnKSE9LTEpe1xcbiAgICAgICAgICAgIC8vICAgIHZpcFVybCA9IChKU09OLnBhcnNlKHJlcXVlc3QodmlwVXJsLCB7cmVkaXJlY3Q6ZmFsc2UsIHdpdGhIZWFkZXJzOnRydWV9KSkuaGVhZGVycy5sb2NhdGlvbiArICcnKS5yZXBsYWNlKC9cXFxcPy4qLywnJyk7XFxuICAgICAgICAgICAgLy99XFxuICAgICAgICAgICAgdmFyIHJlZiA9ICdodHRwczovL2p4Lnh1ZXR1aWd1YW5nLmNuL2ppZXhpLz91cmw9JyArIHZpcFVybDtcXG4gICAgICAgICAgICB2YXIgcGFyc2UgPSByZWY7XFxuICAgICAgICAgICAgdmFyIGFwaSA9ICdodHRwczovL2p4Lnh1ZXR1aWd1YW5nLmNuL2ppZXhpL2FwaXVfZngucGhwJztcXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5QYW5HdSh2aXBVcmwsIFtyZWYsIHBhcnNlLCBhcGldKTtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICByZXR1cm4gJyc7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIFxcXCLwn6WaXFxcIjogZnVuY3Rpb24odmlwVXJsKSB7XFxuICAgICAgICBsZXQg5L2c6ICFX+inhueVjOefpeWQjeWkp+S9rDtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdmFyIHBsYXkgPSBKU09OLnBhcnNlKGZldGNoKFxcXCJodHRwOi8vd3d3LnpydWlyeS5jb20veXVuL2FwaS5waHBcXFwiLCB7XFxuICAgICAgICAgICAgICAgIGJvZHk6IFxcXCJ1cmw9XFxcIiArIGlucHV0LFxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFxcXCJQT1NUXFxcIlxcbiAgICAgICAgICAgIH0pKS51cmw7XFxuICAgICAgICAgICAgaWYgKHBsYXkuc3RhcnRzV2l0aChcXFwiL1xcXCIpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaHR0cHM6XFxcIiArIHBsYXk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgIHJldHVybiBcXFwiXFxcIjtcXG4gICAgICAgIH1cXG4gICAgfVxcbn07XFxuXFxudmFyIGZyb21zID0gWydkdW9kdW96eScsICdyeCcsICdyZW5yZW5taScsICdsdG5iJywgJ3hmeXVuJ107XFxuZm9yKGxldCBpIGluIGZyb21zKSB7XFxuICAgIGxldCBuYW1lID0gZnJvbXNbaV0gKyBcXFwiKOmAmueUqOWHveaVsClcXFwiO1xcbiAgICBQYXJzZVNbbmFtZV0gPSBmdW5jdGlvbihVcmwsIHJlZmVyZXIpe1xcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFBhcnNlKHJlZmVyZXIpO1xcbiAgICB9O1xcbn1cXG5PYmplY3QuYXNzaWduKFBhcnNlUywgb3JpZ2luYWxQYXJzZVMsIE15UGFyc2VTKTtcXG4vL+imhueblumhuuW6j++8jOesrOS4ieS4quimhuebluesrOS6jOS4queEtuWQjuimhuebluesrOS4gOS4qlxcblxcblxcbmZ1bmN0aW9uIGF5dG1QYXJzZSh2aXBVcmwsIHBhcnNlTmFtZSkge1xcbiAgICB0aGlzLnJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbTAsIHBhcmFtMSwgcGFyYW0yKSB7XFxuICAgICAgICBwYXJhbTEgPSBwYXJhbTEgPT0gdW5kZWZpbmVkID8ge30gOiBwYXJhbTE7XFxuICAgICAgICBpZihpc05hTihwYXJhbTEudGltZW91dCkpIHtcXG4gICAgICAgICAgICBwYXJhbTEudGltZW91dCA9IDMwMDA7XFxuICAgICAgICB9XFxuICAgICAgICBwYXJhbTIgPSBNWV9SVUxFO1xcbiAgICAgICAgdmFyIHJldFN0ciA9IG1ldGhvZF9yZXF1ZXN0Lmludm9rZShqYXZhQ29udGV4dCwgcGFyYW0wLCBwYXJhbTEsIHBhcmFtMik7XFxuICAgICAgICByZXR1cm4gcmV0U3RyID09IG51bGwgPyByZXRTdHIgOiByZXRTdHIgKyBcXFwiXFxcIjtcXG4gICAgfTtcXG4gICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uKHBhcmFtMCwgcGFyYW0xLCBwYXJhbTIpIHtcXG4gICAgICAgIHBhcmFtMSA9IHBhcmFtMSA9PSB1bmRlZmluZWQgPyB7fSA6IHBhcmFtMTtcXG4gICAgICAgIHBhcmFtMS5oZWFkZXJzID0gcGFyYW0xLmhlYWRlcnMgPT0gdW5kZWZpbmVkID8ge30gOiBwYXJhbTEuaGVhZGVycztcXG4gICAgICAgIHBhcmFtMS5oZWFkZXJzWydVc2VyLUFnZW50J10gPSBQQ19VQTtcXG4gICAgICAgIGlmKGlzTmFOKHBhcmFtMS50aW1lb3V0KSkge1xcbiAgICAgICAgICAgIHBhcmFtMS50aW1lb3V0ID0gMzAwMDtcXG4gICAgICAgIH1cXG4gICAgICAgIHBhcmFtMiA9IE1ZX1JVTEU7XFxuICAgICAgICB2YXIgcmV0U3RyID0gbWV0aG9kX2ZldGNoLmludm9rZShqYXZhQ29udGV4dCwgcGFyYW0wLCBwYXJhbTEsIHBhcmFtMik7XFxuICAgICAgICByZXR1cm4gcmV0U3RyID09IG51bGwgPyByZXRTdHIgOiByZXRTdHIgKyBcXFwiXFxcIjtcXG4gICAgfTtcXG4gICAgdmFyIGhvc3QgPSB2aXBVcmwubWF0Y2goL1xcXFwuKC4qPylcXFxcLy8pO1xcbiAgICBob3N0ID0gaG9zdCA9PSBudWxsID8gbnVsbCA6IGhvc3RbMV07XFxuICAgIHZhciBub1VybCA9IFxcXCJ0b2FzdDovL+aOpeaUtuWIsOeahOmTvuaOpeS4ujogXFxcIjtcXG4gICAgc3dpdGNoIChteVNldC5xanUpIHtcXG4gICAgICAgIGNhc2UgXFxcIum7mOiupFxcXCI6XFxuICAgICAgICAgICAgc3dpdGNoIChob3N0KSB7XFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcInFxLmNvbVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBteVNldC50eDtcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICBjYXNlIFxcXCJpcWl5aS5jb21cXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gbXlTZXQucXk7XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgY2FzZSBcXFwieW91a3UuY29tXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IG15U2V0LnlrO1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcIm1ndHYuY29tXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IG15U2V0Lm1nO1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcImJpbGliaWxpLmNvbVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBteVNldC5ibDtcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gaG9zdCA9PSBudWxsID8gbm9VcmwgOiBteVNldC5vdGg7XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICBkZWZhdWx0OlxcbiAgICAgICAgICAgIHN0ciA9IGhvc3QgPT0gbnVsbCA/IG5vVXJsIDogbXlTZXQucWp1O1xcbiAgICAgICAgICAgIGJyZWFrO1xcbiAgICB9XFxuICAgIGlmIChwYXJzZU5hbWUpIHtcXG4gICAgICAgIHN0ciA9IHBhcnNlTmFtZTtcXG4gICAgfVxcbiAgICBsZXQgbXlDaG9pY2UgPSBzdHIuc3BsaXQoJywnKTtcXG4gICAgbGV0IGxlbiA9IG15Q2hvaWNlLmxlbmd0aDtcXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xcbiAgICAgICAgbGV0IG5hbWUgPSBteUNob2ljZVtpXTtcXG4gICAgICAgIGlmICh0eXBlb2YgUGFyc2VTW25hbWVdID09ICdmdW5jdGlvbicpIHtcXG4gICAgICAgICAgICBsZXQgdXJsID0gUGFyc2VTW25hbWVdKHZpcFVybCk7XFxuICAgICAgICAgICAgbGV0IFJlZyA9IG5ldyBSZWdFeHAoXFxcIm0zdTh8bXA0fFxcXCIgKyB2aXBVcmwgKyBcXFwifGh0dHBcXFwiKTtcXG4gICAgICAgICAgICBpZiAoaSAhPSBsZW4gLSAxICYmICFSZWcudGVzdCh1cmwpKSB7XFxuICAgICAgICAgICAgICAgIGxvZyhuYW1lICsgJ+ino+aekOWksei0pScpO1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuIHRvb2xzLmhhbmRsZVVybCh1cmwsIHZpcFVybCwgbmFtZSk7XFxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBQYXJzZVNbbmFtZV0gPT0gJ3N0cmluZycpIHtcXG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTLmRlZmF1bHRQYXJzZShQYXJzZVNbbmFtZV0gKyB2aXBVcmwsIHRvb2xzLmhhbmRsZVVybCwgbmFtZSk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHJldHVybiBuYW1lLnN1YnN0cigwLCA0KSA9PSBcXFwiaHR0cFxcXCIgfHwgaG9zdCA9PSBudWxsID8gbmFtZSArIHZpcFVybCA6IFxcXCJ0b2FzdDovL1xcXCIgKyBuYW1lICsgXFxcIiDkuI3mmK/nm7Tpk77kuZ/kuI3mmK/lhY3ll4VcXFwiO1xcbiAgICAgICAgfVxcbiAgICB9XFxufTtcXG5cXG52YXIgcGxheVBhcnNlID0ge1xcbiAgICBwbGF5ZXJTOiBmdW5jdGlvbihqdXJsKSB7XFxuICAgICAgICB2YXIgaHRtbCA9IHJlcXVlc3QoanVybCksXFxuICAgICAgICAgICAgVXJsID0gJycsXFxuICAgICAgICAgICAgZnJvbSA9ICcnO1xcbiAgICAgICAgdmFyIGNvZGUxID0gaHRtbC5tYXRjaCgvdmFyIHBsYXllcl9bXFxcXHNcXFxcU10qP3VybFtcXFxcc1xcXFxTXSo/fS8pO1xcbiAgICAgICAgdmFyIGRwVXJsID0gcGRmaChodG1sLCBcXFwiaWZyYW1lJiZkYXRhLXBsYXlcXFwiKTtcXG4gICAgICAgIGlmIChjb2RlMSAhPSBudWxsKSB7XFxuICAgICAgICAgICAgZXZhbChjb2RlMVswXS5yZXBsYWNlKC9wbGF5ZXJfLio/ey8sICdwZGF0YT17JykpO1xcbiAgICAgICAgICAgIFVybCA9IHBkYXRhLnVybDtcXG4gICAgICAgICAgICBmcm9tID0gcGRhdGEuZnJvbTtcXG4gICAgICAgIH0gZWxzZSBpZiAoZHBVcmwgIT0gJycpIHtcXG4gICAgICAgICAgICBVcmwgPSBkcFVybC5zdGFydHNXaXRoKFxcXCJodHRwXFxcIikgPyBkZHBVcmwgOiBkcFVybC5zbGljZSgzKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgY29kZTIgPSBodG1sLm1hdGNoKC92YXIgbm93W1xcXFxzXFxcXFNdKj92YXIgcG5bXFxcXHNcXFxcU10qPzsvKTtcXG4gICAgICAgICAgICBpZiAoY29kZTIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICBldmFsKGNvZGUyWzBdKTtcXG4gICAgICAgICAgICAgICAgVXJsID0gbm93O1xcbiAgICAgICAgICAgICAgICBmcm9tID0gcG47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKFVybC5zdWJzdHIoMCwgOCkubWF0Y2goL0pULi5KVC4uLykgfHwgVXJsLnN0YXJ0c1dpdGgoXFxcImFIUjBcXFwiKSkge1xcbiAgICAgICAgICAgIFVybCA9IGJhc2U2NERlY29kZShVcmwpO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKFVybC5zdWJzdHIoMCwgOCkubWF0Y2goLyUuLiUuLi8pKSB7XFxuICAgICAgICAgICAgVXJsID0gdW5lc2NhcGUoVXJsKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGlmIChmcm9tcy5pbmNsdWRlcyhmcm9tKSkge1xcbiAgICAgICAgICAgIHZhciBuYW1lID0gZnJvbSArICco6YCa55So5Ye95pWwKSc7XFxuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU1tuYW1lXShVcmwsIGp1cmwpO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKC9odG1sfGJpbGliaWxpLy50ZXN0KFVybCkpIHtcXG4gICAgICAgICAgICByZXR1cm4gYXl0bVBhcnNlKFVybCk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHJldHVybiBVcmwuc3RhcnRzV2l0aCgnaHR0cCcpID8gVXJsICsgJyNpc1ZpZGVvPXRydWUjJyA6IFBhcnNlUy5kZWZhdWx0UGFyc2UoanVybCk7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIHBsYXllcl94eDogZnVuY3Rpb24oanVybCkge1xcbiAgICAgICAgcmV0dXJuICQoanVybCkubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgIGV2YWwoZmV0Y2goSlNPTi5wYXJzZShmZXRjaCgnaGlrZXI6Ly9maWxlcy9jYWNoZS9NeVBhcnNlU2V0Lmpzb24nKSkuY2opKTtcXG4gICAgICAgICAgICByZXR1cm4gcGxheVBhcnNlLnBsYXllclMoaW5wdXQpO1xcbiAgICAgICAgfSkgXFxuICAgIH1cXG59O1xcblxcbmZ1bmN0aW9uIHNldFBhcnNlKCkge1xcbiAgICB0aGlzLmQgPSBbXTtcXG4gICAgcmVxdWlyZSgnaHR0cHM6Ly9naHByb3h5Lm5ldC9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvUm91dGUuanMnKTtcXG4gICAgUm91dGUuc2V0UGFyc2UoKTtcXG4gICAgc2V0UmVzdWx0KGQpO1xcbn1cIn1dIiwiaWNvbiI6Imh0dHBzOi8vZ2hwcm94eS5uZXQvaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2xzMTI1NzgxMDAzL3hidGMvbWFpbi9KVHlRTDRQUy5wbmciLCJwcm94eSI6Imh0dHBzOi8vZ2hwcm94eS5uZXQvaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2xzMTI1NzgxMDAzL2RjYmYvbS92L1JvdXRlLmpzPT5odHRwczovL2ppaHVsYWIuY29tL2xzMTI1NzgxMDAzL0hpa2VyLy0vcmF3L20vdi9Sb3V0ZS5qcyJ9